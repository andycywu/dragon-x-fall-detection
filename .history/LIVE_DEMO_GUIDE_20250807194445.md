# 🧠 QAI Hub Live Demo 使用指南

## 🚀 快速啟動

### 方法1: 使用啟動器（推薦）
```bash
python demo_launcher.py
```

### 方法2: 直接啟動Streamlit
```bash
streamlit run qai_hub_streamlit_demo.py
```

### 方法3: 直接啟動Web Demo
```bash
python qai_hub_web_demo.py
```

## 📋 系統要求

### 依賴安裝
```bash
pip install -r requirements_demo.txt
```

### 核心依賴
- Python 3.8+
- OpenCV
- Streamlit
- Plotly
- QAI Hub
- TensorFlow 2.19.0
- Face Recognition

## 🎯 演示功能

### 1. 📊 Streamlit Web應用
- **訪問地址**: http://localhost:8501
- **功能**:
  - 📷 圖像上傳檢測
  - 📹 網路攝影機實時檢測
  - 🖼️ 示例圖像測試
  - 📈 實時統計圖表
  - 🚨 風險評估儀表板

### 2. 🌐 普通Web應用
- **訪問地址**: http://localhost:8080
- **功能**:
  - 📱 響應式設計
  - 🎨 現代化UI界面
  - 📊 實時檢測結果
  - 🔄 即時反饋

## 🔍 檢測功能

### QAI Hub模型
- 👤 **人臉檢測**: MediaPipe Face Detection
- 🚶 **姿態檢測**: MediaPipe Pose Estimation  
- ✋ **手部檢測**: MediaPipe Hand Detection

### 行為分析
- ⚖️ **平衡評分**: 姿態平衡性分析
- 🎯 **穩定性評分**: 動作穩定性評估
- 📐 **姿態偏差**: 標準姿態偏離度
- 🚨 **風險評估**: 跌倒風險等級

## 🎮 使用方法

### 圖像上傳模式
1. 選擇"📷 圖像上傳"標籤
2. 點擊上傳按鈕選擇圖像
3. 等待QAI Hub處理
4. 查看檢測結果和分析報告

### 攝影機模式
1. 選擇"📹 網路攝影機"標籤
2. 點擊"🎥 啟動攝影機"
3. 允許瀏覽器訪問攝影機
4. 觀看實時檢測結果

### 示例圖像模式
1. 選擇"🖼️ 示例圖像"標籤
2. 從預設圖像中選擇
3. 查看檢測效果

## 📊 結果解讀

### 檢測統計
- **人臉數量**: 檢測到的人臉個數
- **姿態數量**: 識別的人體姿態數
- **手部數量**: 檢測到的手部數量

### 風險等級
- 🟢 **低風險**: 評分 0.0-0.3，姿態穩定
- 🟡 **中風險**: 評分 0.3-0.7，需要注意
- 🔴 **高風險**: 評分 0.7-1.0，需要干預

### 視覺化輸出
- 標註圖像顯示檢測結果
- 關鍵點和邊界框標記
- 置信度分數顯示

## 🔧 技術特點

### 官方QAI Hub集成
- ✅ 遵循Qualcomm官方文檔
- ✅ 使用GitHub官方實現
- ✅ 優化性能和準確性
- ✅ 支持多種硬件平台

### 系統架構
- **檢測層**: QAI Hub MediaPipe模型
- **分析層**: 老人行為預測算法
- **界面層**: Streamlit/Web雙重界面
- **智能回退**: OpenCV/face_recognition備用

## 🚨 故障排除

### 常見問題

#### 1. 檢測系統載入失敗
```bash
# 檢查QAI Hub安裝
pip install qai-hub

# 檢查TensorFlow版本
pip install tensorflow==2.19.0
```

#### 2. 攝影機無法啟動
- 檢查攝影機權限設置
- 確認沒有其他應用佔用攝影機
- 嘗試重新啟動瀏覽器

#### 3. Streamlit啟動失敗
```bash
# 重新安裝Streamlit
pip install --upgrade streamlit

# 檢查端口佔用
lsof -ti:8501
```

#### 4. 圖像處理錯誤
- 確認圖像格式支持（JPG、PNG）
- 檢查圖像文件完整性
- 嘗試調整圖像大小

### 性能優化
- 降低圖像解析度可提高處理速度
- 調整攝影機幀率減少資源佔用
- 關閉不需要的檢測功能

## 📞 技術支持

### 系統狀態檢查
```python
# 檢查系統狀態
python -c "
from official_qai_hub_detector import OfficialQAIHubDetector
from elderly_behavior_predictor import ElderlyBehaviorPredictor
print('✅ 系統正常運行')
"
```

### 日誌查看
- Streamlit: 查看終端輸出
- Web Demo: 瀏覽器開發者工具Console

## 🎯 最佳實踐

1. **圖像質量**: 使用清晰、光線充足的圖像
2. **拍攝角度**: 正面或側面角度效果最佳
3. **人物大小**: 確保人物佔圖像適當比例
4. **環境光線**: 避免強烈背光或陰影
5. **網路連接**: 保持穩定的網路連接

---

🧠 **QAI Hub 老人行為檢測系統** | 基於 Qualcomm AI Hub 技術
